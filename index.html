<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Spicy Confession Scale</title>
  <style>
    body {
      background: radial-gradient(circle at top left, #2c001e, #000);
      color: #fff;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .container {
      width: 90%;
      max-width: 600px;
      padding: 2rem;
      background: rgba(27,27,27,0.95);
      border-radius: 25px;
      box-shadow: 0 0 35px #ff1493aa;
      backdrop-filter: blur(6px);
      overflow-y: auto;
      max-height: 90vh;
    }
    .question {
      margin-bottom: 1.5rem;
      font-size: 1.4rem;
      animation: fadeIn 0.8s ease-out;
    }
    .answers, .input-block {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    button, input[type=range] {
      font-size: 1rem;
      border-radius: 12px;
      border: none;
      outline: none;
      padding: 0.9rem;
    }
    .answer-btn {
      background: linear-gradient(to right, #ff0066, #ff3399);
      color: white;
      cursor: pointer;
      box-shadow: 0 0 10px #ff3399aa;
      transition: all 0.3s ease;
    }
    .answer-btn:hover {
      background: #ff66cc;
      box-shadow: 0 0 18px #ff66cc;
      transform: scale(1.05);
    }
    .range-label {
      text-align: center;
      font-size: 1.2rem;
      color: #ff66cc;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="container" id="quiz-container"></div>
  <script>
    const state = { stage: 'q1', age: 18, branch: null };
    const container = document.getElementById('quiz-container');

    const q2Data = {
      q2_1: {
        text: 'At that age (<14), which best describes how you felt?',
        answers: ['Pressured', 'Curious', 'Misled', 'Excited', 'Confused']
      },
      q2_2: {
        text: 'At 14â€“17, who was your first partner?',
        answers: ['Friend', 'Older person', 'New crush', 'Casual fling', 'Stranger']
      },
      q2_3: {
        text: 'At 18â€“21, was it planned or spontaneous?',
        answers: ['Fully planned', 'Mostly planned', 'Spontaneous', 'Chance encounter', 'Donâ€™t recall']
      },
      q2_4: {
        text: 'At 22â€“25, how did it make you feel afterwards?',
        answers: ['Empowered', 'Regretful', 'Indifferent', 'Joyful', 'Ashamed']
      },
      q2_5: {
        text: 'Above 25, what drove that decision?',
        answers: ['Curiosity', 'Love', 'Desire', 'Loneliness', 'Peer influence']
      }
    };

    const q3Data = {
      q2_1: {
        text: 'Which sensation stayed with you the most?',
        answers: ['Regret', 'Confusion', 'Curiosity', 'Shame', 'Excitement']
      },
      q2_2: {
        text: 'How would you describe the dynamic with that partner?',
        answers: ['Comfortable', 'Exciting', 'Awkward', 'Empowering', 'Confusing']
      },
      q2_3: {
        text: 'Did it meet your expectations emotionally?',
        answers: ['Exceeded', 'Met', 'Fell short', 'Mixed', 'Neutral']
      },
      q2_4: {
        text: 'Did it change how you view intimacy?',
        answers: ['Yes, greatly', 'Somewhat', 'Not really', 'Negatively', 'Positively']
      },
      q2_5: {
        text: 'Do you feel satisfied with that decision?',
        answers: ['Absolutely', 'Somewhat', 'Not fully', 'Regret it', 'Still curious']
      }
    };

    function render() {
      if (state.stage === 'q1') return renderQ1();
      if (state.stage === 'q2') return renderQ2();
      if (state.stage === 'q3') return renderQ3();
      container.innerHTML = '<div class="question">Thank you for your honesty, Emilyanesâ€™a ðŸ’‹</div>';
    }

    function renderQ1() {
      container.innerHTML = `
        <div class="question">At what age did you first have sex?</div>
        <div class="input-block">
          <input type="range" id="age-slider" min="10" max="60" value="18" oninput="updateAge(this.value)">
          <div class="range-label" id="range-label">18 years</div>
        </div>
        <button class="answer-btn" onclick="submitAge()">Submit Age</button>
      `;
    }

    function updateAge(val) {
      state.age = parseInt(val);
      document.getElementById('range-label').innerText = val + ' years';
    }

    function submitAge() {
      const age = state.age;
      let key;
      if (age < 14) key = 'q2_1';
      else if (age <= 17) key = 'q2_2';
      else if (age <= 21) key = 'q2_3';
      else if (age <= 25) key = 'q2_4';
      else key = 'q2_5';
      state.branch = key;
      state.stage = 'q2';
      render();
    }

    function renderQ2() {
      const q = q2Data[state.branch];
      container.innerHTML = `
        <div class="question">${q.text}</div>
        <div class="answers">
          ${q.answers.map((a, i) => `<button class="answer-btn" onclick="chooseQ2(${i})">${a}</button>`).join('')}
        </div>
      `;
    }

    function chooseQ2(index) {
      state.choiceIndex = index;
      state.stage = 'q3';
      render();
    }

    function renderQ3() {
      const q = q3Data[state.branch];
      container.innerHTML = `
        <div class="question">${q.text}</div>
        <div class="answers">
          ${q.answers.map(a => `<button class="answer-btn" onclick="finish()">${a}</button>`).join('')}
        </div>
      `;
    }

    function finish() {
      state.stage = 'end';
      render();
    }

    // Start quiz
    state.age = 18;
    render();
  </script>
</body>
</html>
